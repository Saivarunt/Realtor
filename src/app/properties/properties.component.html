
<button (click)="backHome()" mat-icon-button color="primary"><mat-icon>home</mat-icon></button>
<!-- <button  *ngIf="seller || admin" mat-raised-button (click)="openaddDialog('30ms', '30ms')">Add new property</button> -->
<button  appSellerPermissions mat-raised-button (click)="openaddDialog('30ms', '30ms')">Add new property</button>


<div class="container">
    <div class="card" *ngFor="let property of properties">
        <div class="card-inner">
            <div class="front">
                <img src="/assets/default.jpeg">
                <p class="text-content">Name: {{property.name}}</p>

            </div>
            <div class="back">
                    <p>Name: {{property.name}}</p>
                    <p>Location: <a>{{property.location.city}}</a> </p>
                    <p>Rating: {{property.rating}}</p>
                    <p>Price: {{property.price}}</p>
                    <p>Availability: {{property.availability}}</p>

                    <button *ngIf="(buyer || admin) && property.availability" (click)="buyerInterest(property)" mat-raised-button>Buy</button>
                    <!-- <button *ngIf="(seller || admin) && (currentUser === property.user_id.userId)" (click)="updateInfo(property.propertyId)" mat-raised-button>Update property</button> -->
                    <button appSellerPermissions *ngIf="(currentUser === property.user_id.userId)" (click)="updateInfo(property.propertyId)" mat-raised-button>Update property</button>
   
            </div>
        </div>
    </div>
</div>


<!-- rating to be added -->

<!-- add functionality -->
<!-- <button *ngIf="seller || admin" (click) = "showForm()">Add new property</button> -->

<!-- <button  *ngIf="seller || admin" mat-button (click)="openUpdateDialog('30ms', '30ms')">Update property</button> -->



<!-- <app-selleractions *ngIf="showComponent" (propertyDetailsClickEvent) = "getLocations($event)" (propertyToUpdateClickEvent) = "getCurrentProperty($event)"></app-selleractions> -->

<!-- <app-selleractions *ngIf="showComponent" [locations] = "locations" [locationIds]="locationIds" [currentUpdatePropertyId]="currentUpdatePropertyId"></app-selleractions> -->


<!-- <div class="property-add-container" *ngIf="seller">
        
    <form action="post">
        <label for="name">Name</label> 
        <input type="text" name="name" id="name" [(ngModel)] = "addOrUpdateFormResponse.name" required>
        <div class="locations-list-container" *ngIf="!addNewLocation">
            <label for="location">Location</label>  
            <select name="location" id="location" #locid (change)="getFromLocationList(locid.value)">
                <option default>Select a location</option>
                <option [value]="l.locationId" *ngFor="let l of locations">{{l.city}}</option>
                <br>
            </select> 
            <br>
            <button (click)="newLocation()">Add New Location</button>
        </div>
        <label for="price">Price</label>
        <input type="number" name="price" id="price" [(ngModel)] = "addOrUpdateFormResponse.price" required>   
        <button (click)="addProperty()">Add</button>
    </form>

</div>

<div class="property-update-container" *ngIf="seller && updatePropertyBtn">
        
    <form action="post">
        <label for="name">Name</label> 
        <input type="text" name="name" id="name" [(ngModel)] = "addOrUpdateFormResponse.name" [value]="addOrUpdateFormResponse.name" required>
        <div class="locations-list-container" *ngIf="!addNewLocation">
            <label for="location">Location</label>  
            <select name="location" id="location" #locid (change)="getFromLocationList(locid.value)">
                <option default>Select a location</option>
                <option [value]="l.locationId" *ngFor="let l of locations">{{l.city}}</option>
                <br>
            </select> 
            <br>
            <button (click)="newLocation()">Add New Location</button>
        </div>
        <label for="price">Price</label>
        <input type="number" name="price" id="price" [(ngModel)] = "addOrUpdateFormResponse.price" [value]="addOrUpdateFormResponse.price" required>   
        <button (click)="updateProperty()">Update</button>
    </form>

</div>


<div class="location-container" *ngIf="seller && addNewLocation">
    <form action="post">
        <label for="country">Country</label> 
        <input type="text" name="country" id="country" [(ngModel)] = "locationResponse.country" required>
        <label for="city">City</label>
        <input type="text" name="city" id="city" [(ngModel)] = "locationResponse.city"  required>  
        <label for="state">State</label>
        <input type="text" name="state" id="state" [(ngModel)] = "locationResponse.state"  required>   
        <label for="address">Primary Address</label>
        <input type="text" name="address" id="address" [(ngModel)] = "locationResponse.primary_address"  required>   
        <label for="pincode">Pincode</label>
        <input type="text" name="pincode" id="pincode" [(ngModel)] = "locationResponse.pincode"  required> 
        <label for="coordinates">Co-ordinates</label>
        <input type="text" name="coordinates" id="coordinates" [(ngModel)] = "locationResponse.coordinates"  required>     
        <button (click)="updateLocationDetails()" *ngIf="!updatedLocation">Update</button>
    </form>
</div> -->

<!-- <div class="buyer-container" *ngIf="buyer">
    <ol>
        <li>{{currentPropertySelection?.name}}</li>
        <li>{{currentPropertySelection?.location?.coordinates}}</li>
        <li>{{currentPropertySelection?.price}}</li>
        <select name="agent-select" id="agent-select" #selectAgent (change)="setAgent(selectAgent.value)">
            <option default>Select an Agent</option>
            <option [value]="a.agentId" *ngFor="let a of agents">{{a.userId.username}}</option>
        </select>

        <button (click)="buyProperty()">Buy</button>

    </ol>
</div> -->

<mat-paginator [length]="totalElements"
              [pageSize]="pageSize"
              (page)="handlePageEvent($event)"
              [pageSizeOptions]="[10]"
              aria-label="Select page">
</mat-paginator>

